<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>鱼跃龙门</title>
    <style>
        body {
            font-size: 28px;
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            background-color: #f4f6f9;
            display: flex;
            flex-direction: column;
        }
        #nav_title {
            width: 100%;
            height: 12.5%;
            position: fixed;
            margin-top: 0;
            margin-left: 0;
            background: linear-gradient(to right bottom, #0ff9fc , #1b89dc , #154bb5);
            display: grid;
            place-items: center;
            top: 0;
            left: 0;
            z-index: 1;
        }
        .head_logo {
            height: 100%;
            width: auto;
            margin-top: -10px;
        }
        #body_frame {
            margin-top: 12.5%;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
            z-index: 1;
            position: relative;
        }
        #bottom_frame {
            background: #154bb5;
            color: #fff;
            display: flex;
            justify-content: space-between;
            padding: 10px 20px;
            position: fixed;
            width: 100%;
            bottom: 0;
            z-index: 1;
        }
        #videoContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: -1;
        }
        #school_list {
            margin-top: 20px;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        #school_list h2 {
            font-size: 24px;
            color: #333;
            margin-bottom: 10px;
        }

        #school_list ul {
            list-style-type: none;
            padding: 0;
        }

        #school_list li {
            margin-bottom: 20px;
        }

        #school_list h3 {
            font-size: 20px;
            color: #1D61EC;
        }

        #school_list ul li {
            font-size: 18px;
            color: #666;
        }

        #school_list a {
            text-decoration: none;
            color: #1D61EC;
        }

        #school_list a:hover {
            text-decoration: underline;
            color: #154bb5;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.5;
        }
        form {
            background: white;
            width: 90%;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            background-color: rgba(255, 255, 255, 0.8);
        }
        form label,input{
            font-size: 30px;
        }
        #nav_title p{
            font-family:STXinwei;
            font-size: 50px;
            margin-top: 2%;
            color: #bbbbb9;
        }
        input[type="text"] {
            padding: 5px;
            color: red;
            font-size:25px;
            width: 50px;
            border: 2px solid black;
        }

        input[type="submit"] {
            background-color: #1D61EC;
            color: white;
            border: none;
            padding:5px 120px;
            margin-left: -30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 28px;
            transition: background-color 0.3s ease;
        }
        input[type="submit"]:hover {
            background-color: #154bb5;
        }
        input[type="radio"] {
            width: 30px;
            height: 30px;
        }
        form p {
            margin: 30px;
        }

        @media only screen and (max-width: 1000px) {
            #nav_title {
                height: 10%;
            }
            #body_frame {
                margin-top: 30%;
            }
            #nav_title p{
                font-family:STXinwei;
                font-size: 80px;
                margin-top: 8%;
                color: #bbbbb9;
            }
            form label,input{
                font-size: 70px;
            }
            form p>input{
                height:80px;
                width:30%;
            }
            input[type="text"] {
                padding: 0px;
                color: red;
                font-size:80px;
                width:160px;
                border: 2px solid black;
            }
            input[type="radio"] {
                width: 50px;
                height: 70px;
            }
            input[type="submit"] {
                background-color: #1D61EC;
                color: white;
                border: none;
                padding:0px 420px;
                border-radius: 20px;
                cursor: pointer;
                font-size: 28px;
                transition: background-color 0.3s ease;
            }
        }
        @media only screen and (max-width: 600px) {
            #body_frame {
                margin-top: 50%;
            }
        }
    </style>
</head>
<body>
<div id="web_notice" class="web_notice" style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:99999;">
    <div style="position:fixed;top:50%;left:50%;width:550px;background:rgb(36,46,59);transform:translate(-50%,-50%);border-radius:40px;padding:50px 40px;">
        <div style="color:#FFF;word-wrap:break-word;">
            <h2 style="color:#df2121;display:flex;flex-direction:column;align-items:center;">使用提示</h2>
            <br>当您第一次点击某院校，并第一次加载该院校的数据时会有"5s~10S"的数据爬取，请耐心等待。<br><br><br><br>
        </div>
        <div>
			<a id="closeNotice" style="user-select:none;display:block;background:#43bf34;color:#FFF;text-align:center;font-weight:bold;font-size:19px;line-height:49px;margin-top:11px;border-radius:5px;width:40%;float:left;" onclick="javascript:document.querySelector('.web_notice').remove()">不再提示</a>
            <a id="tmpcloseNotice" href="#" style="display:block;background:#1b25c5;color:#FFF;text-align:center;font-weight:bold;font-size:19px;line-height:49px;margin-top:11px;border-radius:5px;width:40%;float:right;">确认</a>
        </div>
    </div>
</div>

<div id="head_frame">
    <div id="nav_title">
        <p>智慧高考填报推荐系统</p>
    </div>
    <div id="videoContainer">
        <video id="myVideo" autoplay muted loop>
            <source src="{{ url_for('static', filename='video/sea.mp4') }}" type="video/mp4">
            你的浏览器不支持 HTML5 视频标签。
        </video>
    </div>
</div>
<div id="body_frame">
    <form action="/school" method="post">
        <label>选科:</label>
        <input type="radio" id="science" name="gender" value="science" checked>
        <label for="science">理科</label>
        <input type="radio" id="arts" name="gender" value="arts">
        <label for="arts">文科</label><br/><br/>
        <label>分数:</label>
        <input type="text" id="numericInput" name="grade" oninput="validateInput(this)"><label>&nbsp;分<label>
        <p><input type="submit" value="提交"></p>
    </form>
</div>
<div id="school_data">
    {% if num != 0 %}
        <div id="school_list">
            <p>您的分数是：{{ num }}</p>
            <p>您的排名是：{{ grade }}</p>
            <h2>您可以考虑以下学校:</h2>
            <ul>
                {% for k, v in re_dt.items() %}
                    <li>
                        <h3><a href="{{ url_for('school_major', school_name=k) }}" target="_blank">{{ k }}</a></h3>
                        <ul>
                            {% for item in v %}
                                <li>{{ item[0] }} {{ item[1] }} {{ item[2] }}</li>
                                <hr/>
                            {% endfor %}
                        </ul>
                    </li>
                {% endfor %}
            </ul>
        </div>
        <div style="height: 100px;"></div>
    {% endif %}
</div>
<div id="bottom_frame">
    <div id="bottom_left">
        <p></p>
    </div>
    <div id="bottom_right">
        <p></p>
    </div>
</div>
<script>
   document.addEventListener('DOMContentLoaded', function() {
       var video = document.getElementById('myVideo');
       video.play();
   });

   document.addEventListener('DOMContentLoaded', function() {
       // 检查本地存储中是否存在标记
       var noticeClosed = localStorage.getItem('noticeClosed');
       var tmpCloseNoticeButton = document.getElementById('tmpcloseNotice');

       // 如果存在标记，则隐藏通知
       if (noticeClosed) {
           document.getElementById('web_notice').style.display = 'none';
       }

       // 获取关闭按钮并添加点击事件处理
       document.getElementById('closeNotice').addEventListener('click', function() {
           // 设置本地存储标记
           localStorage.setItem('noticeClosed', 'true');
           // 隐藏通知
           document.getElementById('web_notice').style.display = 'none';
       });

       // 获取tmpcloseNotice按钮并添加点击事件处理
       if (tmpCloseNoticeButton) {
           tmpCloseNoticeButton.addEventListener('click', function() {
               // 隐藏通知
               document.getElementById('web_notice').style.display = 'none';
           });
       }

       // 获取表单并添加提交事件处理
       document.querySelector('form').addEventListener('submit', function() {
           // 设置本地存储标记
           localStorage.setItem('noticeClosed', 'true');
       });
   });
		//输入规则限定（仅允许输入数字）
		function validateInput(input) {
		        // 获取输入的值
		        let value = input.value;

		        // 使用正则表达式检查是否为数字
		        if (!/^\d*$/.test(value)) {
		            // 如果输入的不是数字，则弹出警告框
		            alert("请输入合理分数！");
		            // 清空输入框或者恢复为之前的有效输入
		            input.value = value.replace(/\D/g, '');
		        }
		    }
</script>

</body>
</html>
